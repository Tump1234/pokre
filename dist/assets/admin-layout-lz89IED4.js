import{j as e,u as a,a as c,b as s}from"./index-CvTZHx2e.js";import{E as t,D as i,r as l}from"./redux-vendor-nVRhWwEL.js";import{u as n,b as r}from"./router-vendor-BW0mZDy4.js";import{F as d,a as o,b as h}from"./index-CmRPyfVs.js";import{G as m}from"./ui-vendor-BXfdezGw.js";import{F as u}from"./index-D65ILaf6.js";import"./react-vendor-B_uAldPx.js";function v(e){return m({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}const x=({collapsed:a,toggleCollapse:c})=>{const s=n(),t=r(),i=[{key:"user",label:"Хэрэглэгч",href:"/admin/user",icon:e.jsx(o,{})},{key:"withdraw",label:"Таталт",href:"/admin/withdraw",icon:e.jsx(v,{})},{key:"deposit",label:"Цэнэглэлт",href:"/admin/deposit",icon:e.jsx(u,{})},{key:"table",label:"Ширээ",href:"/admin/table",icon:e.jsx(h,{})}];return e.jsxs("aside",{className:"admin-sider "+(a?"collapsed":""),children:[!a&&e.jsx("button",{className:"sider-close-btn",onClick:c,children:e.jsx(d,{size:20})}),e.jsx("nav",{children:e.jsx("ul",{className:"menu",children:i.map(c=>{const i=t.pathname.startsWith(c.href);return e.jsx("li",{className:"menu-item "+(i?"active":""),children:e.jsxs("div",{className:"menu-label "+(i?"active":""),role:"button",tabIndex:0,onClick:()=>s(c.href),onKeyDown:e=>{"Enter"===e.key&&s(c.href)},title:a?c.label:void 0,children:[e.jsx("span",{className:"menu-icon",children:c.icon}),!a&&c.label]})},c.key)})})})]})};function j(e){return m({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"},child:[]}]})(e)}function p(e){return m({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"},child:[]}]})(e)}function f(e){return m({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},child:[]}]})(e)}function b({collapsed:r,onToggleCollapse:d}){const o=n(),h=t(),m=i(e=>e.auth.isAuthenticated),u=localStorage.getItem("accessToken"),{data:v,refetch:x}=a(void 0,{skip:!u});return l.useEffect(()=>{x()},[m]),l.useEffect(()=>{v&&(h(c(!0)),h(s(v)))},[v]),e.jsxs("div",{className:"admin-header",children:[e.jsxs("div",{className:"admin-header-left",children:[e.jsx("button",{className:"icon-button",onClick:d,children:r?e.jsx(f,{size:20}):e.jsx(p,{size:20})}),e.jsx("span",{className:"admin-title",children:"Admin Panel"})]}),e.jsx("div",{className:"admin-header-right",children:e.jsx("button",{className:"icon-button",onClick:()=>o("/"),children:e.jsx(j,{size:20})})})]})}const z=({children:a})=>{const[c,s]=l.useState(!1),t=()=>s(e=>!e);return e.jsxs("div",{className:"admin-layout",children:[e.jsx(x,{collapsed:c,toggleCollapse:t}),e.jsxs("div",{className:"admin-main",children:[e.jsx(b,{collapsed:c,onToggleCollapse:t}),e.jsx("div",{className:"admin-content",children:a})]})]})};export{z as default};
