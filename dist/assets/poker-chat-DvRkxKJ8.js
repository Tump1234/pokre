import{j as e}from"./index-CvTZHx2e.js";import{r as s}from"./redux-vendor-nVRhWwEL.js";import{P as a}from"./texas-table-game-wTMeuWpu.js";import{G as t}from"./ui-vendor-BXfdezGw.js";import"./react-vendor-B_uAldPx.js";import"./router-vendor-BW0mZDy4.js";import"./table-page-DrrpuEVP.js";import"./formatNumber-BK7Si0DQ.js";import"./6820-t6wN11A0.js";import"./seatOffsets-BfPDEa1f.js";function n(e){return t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(e)}function r({messages:t=[],sendChat:r,destinedCommunityCards:i=[],player:c}){var o;const[l,d]=s.useState(""),[m,u]=s.useState("chat"),h=s.useRef(null),[j,v]=s.useState(!1),p=()=>{""!==l.trim()&&(null==r||r(l),d(""))},x="ADMIN"===(null==(o=null==c?void 0:c.user)?void 0:o.role);return s.useEffect(()=>{if(!j)return;const e=e=>{h.current&&!h.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[j]),e.jsxs("div",{className:"chat-box-toggle "+(j?"open":""),children:[e.jsx("div",{className:"toggle-chat-btn",onClick:()=>v(e=>!e),title:"Chat"}),e.jsxs("div",{ref:h,className:"chat-box",children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("button",{className:"tab-button "+("chat"===m?"active":""),onClick:()=>u("chat"),children:"Чат"}),x&&e.jsx("button",{className:"tab-button "+("admin"===m?"active":""),onClick:()=>u("admin"),children:"Админ"})]}),e.jsxs("div",{className:"tab-content",children:["chat"===m&&e.jsx("div",{className:"chat-messages",children:t.map(s=>e.jsxs("p",{className:"chat-message",children:[e.jsxs("span",{children:[s.username,":"]})," ",s.message]},s.id))}),"admin"===m&&x&&e.jsx("div",{className:"admin-cards",children:null==i?void 0:i.map((s,t)=>e.jsx("div",{className:"admin-card",children:e.jsx(a,{info:s})},t))})]}),e.jsx("div",{className:"chat-input-row",children:e.jsxs("div",{className:"chat-input-wrapper",children:[e.jsx("input",{className:"chat-input",placeholder:"Таны сэтгэгдэл...",value:l,onChange:e=>d(e.target.value),onKeyDown:e=>"Enter"===e.key&&p()}),e.jsx("button",{className:"send-button",onClick:p,children:e.jsx(n,{size:14})})]})})]})]})}export{r as default};
