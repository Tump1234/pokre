import{O as e,j as a}from"./index-CvTZHx2e.js";import{y as s}from"./ui-vendor-BXfdezGw.js";import{f as n}from"./formatNumber-BK7Si0DQ.js";import{r}from"./redux-vendor-nVRhWwEL.js";import"./react-vendor-B_uAldPx.js";function o({closeModal:o,userInfo:l,refetch:c}){const[i,{isLoading:t}]=e(),[u,d]=r.useState(!1),m=null==l?void 0:l.userBalance.bonusBalance,f=()=>{d(!1),requestAnimationFrame(()=>{d(!0),setTimeout(()=>d(!1),600)})};return r.useEffect(()=>{if(!m||m<=0)return;f();const e=setInterval(()=>{f()},3e3);return()=>clearInterval(e)},[m]),a.jsxs("div",{className:"ufm-bottom-sheet",children:[a.jsxs("div",{className:"utf-header",children:[a.jsx("div",{className:"utf-header-icon logo"}),a.jsx("div",{className:"utf-header-name",children:"Миний бонус"}),a.jsx("div",{className:"utf-header-icon close",onClick:o})]}),a.jsxs("div",{className:"bonus-card",children:[a.jsx("div",{className:"bonus-amount "+(u?"shake":""),children:n(m||0)}),a.jsx("div",{className:"bonus-claim-btn",onClick:async()=>{var e;if((null==(e=null==l?void 0:l.userBalance)?void 0:e.bonusBalance)&&l.userBalance.bonusBalance>0)try{const e=await i().unwrap();c(),s.success(`Bonus claimed! New balance: ${e.balance}`)}catch(a){s.error("Failed to claim bonus. Please try again.")}else s("No bonus available to claim.")},children:t?"Авч байна...":"Авах"})]})]})}export{o as default};
